(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ce27fbc"],{"297f":function(t,e,o){"use strict";o("caea")},"2a43":function(t,e,o){},"3d6b":function(t,e,o){},"9a5d":function(t,e,o){"use strict";o("2a43")},a3ca:function(t,e,o){"use strict";o("3d6b")},c12c:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"returntopbox"},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.topshow,expression:"topshow"}],staticClass:"returntop",on:{click:t.goTop}},[t._v("^")])])},s=[],n={props:["topshow"],data:function(){return{topTimer:null}},methods:{goTop:function(){var t=this;this.topTimer=setInterval((function(){var e=document.documentElement.scrollTop||document.body.scrollTop,o=e/4;0!=document.documentElement.scrollTop?document.documentElement.scrollTop-=o:document.body.scrollTop-=o,0==e&&clearInterval(t.topTimer)}),30)}}},l=n,a=(o("a3ca"),o("2877")),c=Object(a["a"])(l,i,s,!1,null,"343572f4",null);e["a"]=c.exports},c5fc:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mv"},[o("div",{staticClass:"top"},[o("ul",[o("li",[o("a",{class:[1==t.page?"active":""],attrs:{href:"#"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.page=1}}},[t._v("推荐")])]),o("li",[o("a",{class:[2==t.page?"active":""],attrs:{href:"#"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.page=2}}},[t._v("最新")])]),o("li",[o("a",{class:[3==t.page?"active":""],attrs:{href:"#"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.page=3}}},[t._v("网易出品")])])])]),o(t.cutMvPage,{tag:"component",attrs:{mvResult:t.mvResult}}),o("go-top",{attrs:{topshow:t.topshow}}),o("loading",{directives:[{name:"show",rawName:"v-show",value:!t.flag,expression:"!flag"}]}),t.flag?o("ol",[t._m(0)]):t._e()],1)},s=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",[o("p",[t._v("木有更多数据了~~")])])}],n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"newmv"},t._l(t.mvResult,(function(t){return o("mv-list",{key:t.id,attrs:{item:t}})})),1)},l=[],a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mvlist"},[o("router-link",{staticClass:"describe",attrs:{tag:"ul",to:"/MvPlay/"+t.item.id}},[o("li",[o("img",{attrs:{src:t.item.picUrl||t.item.cover}})]),o("li",[t._v(t._s(t.item.name))])])],1)},c=[],r={props:["item"]},u=r,m=(o("297f"),o("2877")),v=Object(m["a"])(u,a,c,!1,null,"b049dfb8",null),d=v.exports,p={props:["mvResult"],components:{MvList:d}},h=p,f=Object(m["a"])(h,n,l,!1,null,null,null),g=f.exports,w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"makemv"},t._l(t.mvResult,(function(t){return o("mv-list",{key:t.id,attrs:{item:t}})})),1)},E=[],_={props:["mvResult"],components:{MvList:d}},T=_,b=Object(m["a"])(T,w,E,!1,null,null,null),x=b.exports,R=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"recmv"},t._l(t.mvResult,(function(t){return o("mv-list",{key:t.id,attrs:{item:t}})})),1)},L=[],k={props:["mvResult"],components:{MvList:d}},$=k,M=Object(m["a"])($,R,L,!1,null,null,null),S=M.exports,y=o("3a5e"),C=o("c12c"),P={data:function(){return{cutMvPage:S,page:1,mvResult:[],limit:10,pages:0,timer:null,flag:!1,topshow:!1}},components:{Loading:y["a"],GoTop:C["a"]},methods:{onScroll:function(){var t=this,e=document.documentElement.scrollHeight||document.body.scrollHeight,o=document.documentElement.scrollTop||document.body.scrollTop,i=document.documentElement.clientHeight||document.body.clientHeight;this.topshow=o>=400,e-o-i<20&&(this.loadMore(),window.removeEventListener("scroll",this.onScroll),this.timer=setTimeout((function(){window.addEventListener("scroll",t.onScroll)}),1e3))},loadMore:function(){this.pages++,this.limit=this.limit+10,this.getresult()},getresult:function(){var t=this;2==this.page?this.axios.get("/mv/first",{params:{limit:this.limit}}).then((function(e){t.mvResult<e.data.data?t.mvResult=e.data.data:(clearTimeout(t.timer),t.flag=!0,window.removeEventListener("scroll",t.onScroll))})):3==this.page&&this.$axios.get("/mv/exclusive/rcmd",{params:{limit:this.limit,offset:this.limit*this.pages}}).then((function(e){if(e.data.data.length>0)for(var o=0;o<e.data.data.length;o++)t.mvResult.push(e.data.data[o]);else t.flag=!0,clearTimeout(t.timer),window.removeEventListener("scroll",t.onScroll)}))}},watch:{page:function(){var t=this;1==this.page?(document.documentElement.scrollTop=0,this.$axios("/personalized/mv").then((function(e){t.mvResult=e.data.result,t.flag=!0})),this.topshow=!1,this.cutMvPage=S,window.removeEventListener("scroll",this.onScroll)):2==this.page?(document.documentElement.scrollTop=0,clearTimeout(this.timer),this.flag=!1,window.removeEventListener("scroll",this.onScroll),this.limit=10,this.$axios("/mv/first?limit=10").then((function(e){t.mvResult=e.data.data,window.addEventListener("scroll",t.onScroll)})),this.topshow=!1,this.cutMvPage=g):3==this.page&&(document.documentElement.scrollTop=0,clearTimeout(this.timer),this.flag=!1,window.removeEventListener("scroll",this.onScroll),this.limit=10,this.pages=0,this.$axios("/mv/exclusive/rcmd?limit=10").then((function(e){t.mvResult=e.data.data,window.addEventListener("scroll",t.onScroll)})),this.topshow=!1,this.cutMvPage=x)}},created:function(){var t=this;this.$axios("/personalized/mv").then((function(e){t.mvResult=e.data.result})),this.flag=!0},beforeRouteLeave:function(t,e,o){clearTimeout(this.timer),window.removeEventListener("scroll",this.onScroll),o()}},j=P,O=(o("9a5d"),Object(m["a"])(j,i,s,!1,null,"170a364c",null));e["default"]=O.exports},caea:function(t,e,o){}}]);
//# sourceMappingURL=chunk-7ce27fbc.4c8c7398.js.map